apply plugin: "java"

group "com.amannmalik.service"
version "1.0-SNAPSHOT"

compileJava {
    targetCompatibility = JavaVersion.VERSION_1_8
    sourceCompatibility = JavaVersion.VERSION_1_8
}

jar {
    manifest {
        attributes "Main-Class": "Launcher",
                "Implementation-Title": "Alexa Test Skill Package",
                "Implementation-Version": version
    }
}

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    
    compile "org.slf4j:slf4j-api:1.7.19"

    compile "com.amazon.alexa:alexa-skills-kit:1.1.2"
    compile "com.amazonaws:aws-lambda-java-core:1.0.0"

    // HTTP Server
    compile "javax.servlet:javax.servlet-api:3.1.0"
    compile "io.undertow:undertow-core:1.3.19.Final"
    compile "io.undertow:undertow-servlet:1.3.19.Final"
}

wrapper {
    gradleVersion = "2.12"
}

task fatJar(type: Jar) {
    baseName = project.name + "-fat"
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

build.dependsOn fatJar